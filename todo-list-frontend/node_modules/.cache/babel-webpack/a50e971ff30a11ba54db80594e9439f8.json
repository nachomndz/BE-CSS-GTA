{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./todo.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./progress-bar/progress-bar.component\";\nimport * as i4 from \"./todo-item/todo-item.component\";\nimport * as i5 from \"./todoFilter.pipe\";\n\nfunction AppComponent_app_progress_bar_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-progress-bar\");\n  }\n}\n\nfunction AppComponent_app_todo_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-todo-item\", 8);\n    i0.ɵɵlistener(\"delete\", function AppComponent_app_todo_item_9_Template_app_todo_item_delete_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.deleteTodo($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const todo_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"item\", todo_r4);\n  }\n}\n\nfunction AppComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.message);\n  }\n}\n\nexport class AppComponent {\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.showProgressBar = true;\n    this.filterText = '';\n    this.message = undefined;\n    this.todos$ = todoService.getAll();\n    this.todos$.subscribe(() => this.showProgressBar = false);\n  }\n\n  deleteTodo(todo) {\n    console.log(todo);\n    this.todoService.remove(todo.id).subscribe(() => this.message = 'Todo borrado', () => this.message = 'Error al borrar el todo');\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 13,\n  vars: 8,\n  consts: [[1, \"title\"], [1, \"list\"], [\"for\", \"search\"], [\"id\", \"search\", \"type\", \"text\"], [\"inputSearch\", \"\"], [4, \"ngIf\"], [3, \"item\", \"delete\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"message\", 4, \"ngIf\"], [3, \"item\", \"delete\"], [1, \"message\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\");\n      i0.ɵɵtext(2, \" A list of TODOs \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"label\", 2);\n      i0.ɵɵtext(5, \"Search...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 3, 4);\n      i0.ɵɵtemplate(8, AppComponent_app_progress_bar_8_Template, 1, 0, \"app-progress-bar\", 5);\n      i0.ɵɵtemplate(9, AppComponent_app_todo_item_9_Template, 1, 1, \"app-todo-item\", 6);\n      i0.ɵɵpipe(10, \"todofilter\");\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵtemplate(12, AppComponent_div_12_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(7);\n\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.showProgressBar);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(10, 3, i0.ɵɵpipeBind1(11, 6, ctx.todos$), _r0.value));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n    }\n  },\n  directives: [i2.NgIf, i2.NgForOf, i3.ProgressBarComponent, i4.TodoItemComponent],\n  pipes: [i5.TodoFilterPipe, i2.AsyncPipe],\n  styles: [\".title[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.list[_ngcontent-%COMP%] {\\n  width: 1000px;\\n  margin: auto;\\n}\\n\\ninput[type=text][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 12px 20px;\\n  margin: 8px 0 0;\\n  box-sizing: border-box;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  background-color: \\\"#333\\\";\\n  color: #fff;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx3QkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUNGIiwiZmlsZSI6ImFwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmxpc3Qge1xuICB3aWR0aDogMTAwMHB4O1xuICBtYXJnaW46IGF1dG87XG59XG5cbmlucHV0W3R5cGU9dGV4dF0ge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTJweCAyMHB4O1xuICBtYXJnaW46IDhweCAwIDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi5tZXNzYWdlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogXCIjMzMzXCI7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"]\n});","map":{"version":3,"sources":["/home/santi/Temporal/todo-list/todo-list-frontend/src/app/app.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component} from '@angular/core';\nimport {Todo, TodoService} from \"./todo.service\";\nimport {Observable} from \"rxjs\";\nimport { filter, map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <div class=\"title\">\n      <h1>\n        A list of TODOs\n      </h1>\n    </div>\n    <div class=\"list\">\n      <label for=\"search\">Search...</label>\n      <input #inputSearch id=\"search\" type=\"text\">\n      <app-progress-bar *ngIf=\"showProgressBar\"></app-progress-bar>\n      <app-todo-item *ngFor=\"let todo of todos$ | async | todofilter: inputSearch.value\" [item]=\"todo\" (delete)=\"deleteTodo($event)\"></app-todo-item>\n      <div *ngIf=\"message\" class=\"message\">{{message}}</div>\n    </div>\n  `,\n  styleUrls: ['app.component.scss']\n})\nexport class AppComponent {\n\n  readonly todos$: Observable<Todo[]>;\n  showProgressBar: boolean = true;\n  filterText: string = '';\n  message?: string = undefined;\n\n  constructor(private todoService: TodoService) {\n    this.todos$ = todoService.getAll();\n    this.todos$.subscribe(() => this.showProgressBar = false)\n  }\n\n  deleteTodo(todo: Todo) {\n    console.log(todo);\n    this.todoService.remove(todo.id).subscribe(\n      () => this.message = 'Todo borrado',\n      () => this.message = 'Error al borrar el todo');\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}